<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Mini Shooter</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
html,body{
  margin:0; height:100%;
  background:#2f80ff;
  font-family:Arial;
}
canvas{display:block;}
#playBtn{
  position:fixed;
  bottom:20px;
  right:20px;
  padding:14px 20px;
  font-size:18px;
  background:#111;
  color:#fff;
  border:0;
  border-radius:10px;
  cursor:pointer;
}
#info,#ammo{
  position:fixed;
  top:15px;
  color:white;
  font-size:18px;
}
#info{ left:15px; }
#ammo{ right:15px; }
</style>
</head>

<body>
<canvas id="game"></canvas>
<div id="info">Vie : <span id="life">1</span></div>
<div id="ammo">Balles : <span id="ammoCount">10</span></div>
<button id="playBtn">JOUER</button>

<script>
const canvas=document.getElementById("game");
const ctx=canvas.getContext("2d");
function resize(){canvas.width=innerWidth;canvas.height=innerHeight;}
onresize=resize;resize();

let running=false;
let life=1;
const MAX_AMMO=10;
let ammo=MAX_AMMO;
let bullets=[];

const player={x:canvas.width/2,y:canvas.height/2,speed:6};

const enemy={x:100,y:200,r:30,vx:4,alive:true};

function resetGame(){
  life=1;
  ammo=MAX_AMMO;
  bullets=[];
  enemy.x=100;
  enemy.alive=true;
  running=true;
  document.getElementById("life").textContent=life;
  document.getElementById("ammoCount").textContent=ammo;
}

document.getElementById("playBtn").onclick=resetGame;

const keys={};
onkeydown=e=>{
  keys[e.key]=true;
  if(e.key==="r"||e.key==="R") reload();
  if(e.code==="Space") shoot();
};
onkeyup=e=>keys[e.key]=false;
onclick=()=>shoot();

function reload(){
  ammo=MAX_AMMO;
  document.getElementById("ammoCount").textContent=ammo;
}

function shoot(){
  if(!running||ammo<=0) return;
  bullets.push({x:player.x+24,y:player.y,v:12});
  ammo--;
  document.getElementById("ammoCount").textContent=ammo;
}

function update(){
  if(keys["ArrowLeft"])player.x-=player.speed;
  if(keys["ArrowRight"])player.x+=player.speed;
  if(keys["ArrowUp"])player.y-=player.speed;
  if(keys["ArrowDown"])player.y+=player.speed;

  enemy.x+=enemy.vx;
  if(enemy.x<enemy.r||enemy.x>canvas.width-enemy.r)enemy.vx*=-1;

  bullets.forEach(b=>b.x+=b.v);
  bullets=bullets.filter(b=>b.x<canvas.width);

  bullets.forEach(b=>{
    if(enemy.alive&&Math.hypot(b.x-enemy.x,b.y-enemy.y)<enemy.r){
      enemy.alive=false;
      running=false;
      alert("ENNEMI ÉLIMINÉ ✅");
    }
  });

  if(enemy.alive&&Math.hypot(player.x-enemy.x,player.y-enemy.y)<40){
    life=0;
    document.getElementById("life").textContent=0;
    running=false;
    alert("GAME OVER ❌");
  }
}

function drawPlayer(){
  ctx.fillStyle="#ffd166";
  ctx.beginPath();
  ctx.arc(player.x,player.y-15,8,0,Math.PI*2);
  ctx.fill();

  ctx.strokeStyle="#111";
  ctx.lineWidth=4;
  ctx.beginPath();
  ctx.moveTo(player.x,player.y-7);
  ctx.lineTo(player.x,player.y+25);
  ctx.moveTo(player.x,player.y);
  ctx.lineTo(player.x+20,player.y);
  ctx.lineTo(player.x+28,player.y+2);
  ctx.stroke();
}

function draw(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  ctx.fillStyle="#2f80ff";
  ctx.fillRect(0,0,canvas.width,canvas.height);

  if(running)update();

  drawPlayer();

  if(enemy.alive){
    ctx.fillStyle="red";<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Mini Shooter</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
html,body{
  margin:0; height:100%;
  background:#2f80ff;
  font-family:Arial;
}
canvas{display:block;}
#playBtn{
  position:fixed;
  bottom:20px;
  right:20px;
  padding:14px 20px;
  font-size:18px;
  background:#111;
  color:#fff;
  border:0;
  border-radius:10px;
  cursor:pointer;
}
#info,#ammo{
  position:fixed;
  top:15px;
  color:white;
  font-size:18px;
}
#info{ left:15px; }
#ammo{ right:15px; }
</style>
</head>

<body>
<canvas id="game"></canvas>
<div id="info">Vie : <span id="life">1</span></div>
<div id="ammo">Balles : <span id="ammoCount">10</span></div>
<button id="playBtn">JOUER</button>

<script>
const canvas=document.getElementById("game");
const ctx=canvas.getContext("2d");
function resize(){canvas.width=innerWidth;canvas.height=innerHeight;}
onresize=resize;resize();

let running=false;
let life=1;
const MAX_AMMO=10;
let ammo=MAX_AMMO;
let bullets=[];

const player={x:canvas.width/2,y:canvas.height/2,speed:6};

const enemy={x:100,y:200,r:30,vx:4,alive:true};

function resetGame(){
  life=1;
  ammo=MAX_AMMO;
  bullets=[];
  enemy.x=100;
  enemy.alive=true;
  running=true;
  document.getElementById("life").textContent=life;
  document.getElementById("ammoCount").textContent=ammo;
}

document.getElementById("playBtn").onclick=resetGame;

const keys={};
onkeydown=e=>{
  keys[e.key]=true;
  if(e.key==="r"||e.key==="R") reload();
  if(e.code==="Space") shoot();
};
onkeyup=e=>keys[e.key]=false;
onclick=()=>shoot();

function reload(){
  ammo=MAX_AMMO;
  document.getElementById("ammoCount").textContent=ammo;
}

function shoot(){
  if(!running||ammo<=0) return;
  bullets.push({x:player.x+24,y:player.y,v:12});
  ammo--;
  document.getElementById("ammoCount").textContent=ammo;
}

function update(){
  if(keys["ArrowLeft"])player.x-=player.speed;
  if(keys["ArrowRight"])player.x+=player.speed;
  if(keys["ArrowUp"])player.y-=player.speed;
  if(keys["ArrowDown"])player.y+=player.speed;

  enemy.x+=enemy.vx;
  if(enemy.x<enemy.r||enemy.x>canvas.width-enemy.r)enemy.vx*=-1;

  bullets.forEach(b=>b.x+=b.v);
  bullets=bullets.filter(b=>b.x<canvas.width);

  bullets.forEach(b=>{
    if(enemy.alive&&Math.hypot(b.x-enemy.x,b.y-enemy.y)<enemy.r){
      enemy.alive=false;
      running=false;
      alert("ENNEMI ÉLIMINÉ ✅");
    }
  });

  if(enemy.alive&&Math.hypot(player.x-enemy.x,player.y-enemy.y)<40){
    life=0;
    document.getElementById("life").textContent=0;
    running=false;
    alert("GAME OVER ❌");
  }
}

function drawPlayer(){
  ctx.fillStyle="#ffd166";
  ctx.beginPath();
  ctx.arc(player.x,player.y-15,8,0,Math.PI*2);
  ctx.fill();

  ctx.strokeStyle="#111";
  ctx.lineWidth=4;
  ctx.beginPath();
  ctx.moveTo(player.x,player.y-7);
  ctx.lineTo(player.x,player.y+25);
  ctx.moveTo(player.x,player.y);
  ctx.lineTo(player.x+20,player.y);
  ctx.lineTo(player.x+28,player.y+2);
  ctx.stroke();
}

function draw(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  ctx.fillStyle="#2f80ff";
  ctx.fillRect(0,0,canvas.width,canvas.height);

  if(running)update();

  drawPlayer();

  if(enemy.alive){
    ctx.fillStyle="red";
    ctx.beginPath();
    ctx.arc(enemy.x,enemy.y,enemy.r,0,Math.PI*2);
    ctx.fill();
  }

  ctx.fillStyle="black";
  bullets.forEach(b=>{
    ctx.beginPath();
    ctx.arc(b.x,b.y,4,0,Math.PI*2);
    ctx.fill();
  });

  requestAnimationFrame(draw);
}
draw();
</script>
</body>
</html>

    ctx.beginPath();
    ctx.arc(enemy.x,enemy.y,enemy.r,0,Math.PI*2);
    ctx.fill();
  }

  ctx.fillStyle="black";
  bullets.forEach(b=>{
    ctx.beginPath();
    ctx.arc(b.x,b.y,4,0,Math.PI*2);
    ctx.fill();
  });

  requestAnimationFrame(draw);
}
draw();
</script>
</body>
</html>
